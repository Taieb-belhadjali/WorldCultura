{{ form_start(form, {'attr': {'novalidate': 'novalidate'}}) }}

{% for field in form %}
    {% if field.vars.name != '_token' %} 
        <div class="mb-3">
            {{ form_label(field, null, {'label_attr': {'class': 'form-label fw-semibold text-primary'}}) }}

            {# Check for errors and add 'is-invalid' class if there are any #}
            {% set fieldClass = field.vars.errors|length > 0 ? 'form-control shadow-sm rounded-3 px-3 is-invalid' : 'form-control shadow-sm rounded-3 px-3' %}
            
            {{ form_widget(field, {'attr': {'class': fieldClass}}) }}

            {# Display validation errors if they exist #}
            {% for error in field.vars.errors %}
                <div class="invalid-feedback">
                    {{ error.message }}
                </div>
            {% endfor %}
        </div>
    {% endif %}
{% endfor %}

{{ form_rest(form) }}

<button class="btn btn-primary btn-lg rounded-pill fw-bold shadow-sm">
    {{ button_label|default('ðŸ”„ Save Changes') }}
</button>

{{ form_end(form) }}
